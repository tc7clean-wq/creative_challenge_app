(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6381],{63:(e,t,r)=>{"use strict";var s=r(7260);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},3220:(e,t,r)=>{Promise.resolve().then(r.bind(r,7314))},3638:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(5155),l=r(2115),a=r(9523);function i(e){let{artworkId:t,artistId:r,artistName:i,artworkTitle:o,currentTips:n=0}=e,[d,c]=(0,l.useState)(!1),[u,h]=(0,l.useState)(5),[m,x]=(0,l.useState)(""),[b,p]=(0,l.useState)(!1),[f,g]=(0,l.useState)(""),w=async()=>{if(b)return;let e=m?parseFloat(m):u;if(e<1)return void alert("Minimum tip amount is $1");p(!0);try{let s=(0,a.U)(),{data:{user:l}}=await s.auth.getUser();if(!l)return void alert("Please sign in to send tips");let{error:o}=await s.from("tips").insert({artwork_id:t,artist_id:r,tipper_id:l.id,amount:e,message:f.trim()||null,status:"pending"});if(o)return void alert("Failed to send tip. Please try again.");alert("Your appreciation of $".concat(e," has been sent to ").concat(i,"! \uD83C\uDF89 They'll love hearing what you think of their work!")),c(!1),g(""),x(""),h(5)}catch(e){alert("Failed to send tip. Please try again.")}finally{p(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:()=>c(!0),className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white py-2 px-4 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 flex items-center gap-2",children:["\uD83D\uDC9D Love This Art?",n>0&&(0,s.jsxs)("span",{className:"bg-white/20 px-2 py-1 rounded-full text-xs",children:["$",n]})]}),d&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-8 border border-white/20 max-w-md w-full",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"\uD83D\uDC9D Show Your Appreciation"}),(0,s.jsxs)("p",{className:"text-white/80 mb-6",children:['Love "',o,'" by ',i,"? Consider a tip to support the artist!"]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white font-semibold mb-3",children:"Select Tip Amount"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[1,5,10,25,50,100].map(e=>(0,s.jsxs)("button",{onClick:()=>{h(e),x("")},className:"py-2 px-4 rounded-lg font-semibold transition-all ".concat(u!==e||m?"bg-white/10 text-white hover:bg-white/20":"bg-yellow-500 text-black"),children:["$",e]},e))}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white font-semibold mb-2",children:"Or enter custom amount"}),(0,s.jsx)("input",{type:"number",value:m,onChange:e=>{x(e.target.value),e.target.value&&h(0)},placeholder:"Enter amount",min:"1",step:"0.01",className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:border-yellow-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white font-semibold mb-2",children:"Tell the artist what you love about their work"}),(0,s.jsx)("textarea",{value:f,onChange:e=>g(e.target.value),placeholder:"This artwork is amazing because... I love how you... The colors are...",className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:border-yellow-500 h-20 resize-none",maxLength:200}),(0,s.jsxs)("p",{className:"text-white/60 text-sm mt-1",children:[f.length,"/200 characters"]})]}),(0,s.jsx)("div",{className:"bg-white/5 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-white font-semibold",children:"Total Tip:"}),(0,s.jsxs)("span",{className:"text-yellow-400 font-bold text-xl",children:["$",m?parseFloat(m)||0:u]})]})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:w,disabled:b,className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Sending...":"\uD83D\uDC9D Show Appreciation"}),(0,s.jsx)("button",{onClick:()=>{c(!1),g(""),x(""),h(5)},className:"flex-1 bg-white/10 hover:bg-white/20 text-white py-3 px-6 rounded-lg transition-all duration-300",children:"Cancel"})]})]})]})})]})}},7314:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(5155),l=r(2115),a=r(9523),i=r(5239),o=r(2619),n=r.n(o),d=r(63),c=r(3638);function u(){let e=(0,d.useParams)().username,[t,r]=(0,l.useState)(null),[o,u]=(0,l.useState)([]),[h,m]=(0,l.useState)(!0),[x,b]=(0,l.useState)({totalArtworks:0,totalVotes:0,averageVotes:0}),p=(0,l.useCallback)(async()=>{try{let t=(0,a.U)(),{data:s,error:l}=await t.from("profiles").select("*").eq("username",e).single();if(l)return;r(s)}catch(e){}},[e]),f=(0,l.useCallback)(async()=>{try{let t=(0,a.U)(),{data:r,error:s}=await t.from("submissions").select("*").eq("profiles.username",e).order("created_at",{ascending:!1});if(s)return;u(r||[]);let l=(null==r?void 0:r.reduce((e,t)=>e+(t.votes||0),0))||0,i=(null==r?void 0:r.length)||0,o=i>0?Math.round(l/i):0;b({totalArtworks:i,totalVotes:l,averageVotes:o})}catch(e){}finally{m(!1)}},[e]);(0,l.useEffect)(()=>{e&&(p(),f())},[e,p,f]);let g=async e=>{try{let t=(0,a.U)(),{data:{user:r}}=await t.auth.getUser();if(!r){window.location.href="/auth";return}let{data:s}=await t.from("votes").select("id").eq("submission_id",e).eq("user_id",r.id).single();if(s)return void alert("You have already voted for this artwork!");let{error:l}=await t.from("votes").insert({submission_id:e,user_id:r.id});if(l)return;let{data:i,error:o}=await t.from("submissions").select("votes").eq("id",e).single();if(o)return;let{error:n}=await t.from("submissions").update({votes:(i.votes||0)+1}).eq("id",e);if(n)return;f()}catch(e){}};return h?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-white text-2xl",children:"Loading profile..."})}):t?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-8 border border-white/20 mb-8",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[(0,s.jsx)("div",{className:"w-32 h-32 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white text-4xl font-bold",children:t.username.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",style:{fontFamily:'var(--font-bebas-neue), "Arial Black", "Impact", sans-serif'},children:t.full_name}),(0,s.jsxs)("p",{className:"text-xl text-white/80 mb-4",children:["@",t.username]}),t.bio&&(0,s.jsx)("p",{className:"text-white/70 mb-6 max-w-2xl",children:t.bio}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:x.totalArtworks}),(0,s.jsx)("div",{className:"text-white/60 text-sm",children:"Artworks"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:x.totalVotes}),(0,s.jsx)("div",{className:"text-white/60 text-sm",children:"Total Votes"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:x.averageVotes}),(0,s.jsx)("div",{className:"text-white/60 text-sm",children:"Avg Votes"})]})]}),(0,s.jsx)("button",{onClick:()=>{let e=window.location.href,r="Check out ".concat(null==t?void 0:t.full_name,"'s amazing AI art on Creative Challenge!");navigator.share?navigator.share({title:"".concat(null==t?void 0:t.full_name," - Creative Challenge"),text:r,url:e}):(navigator.clipboard.writeText(e),alert("Profile link copied to clipboard!"))},className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white py-3 px-6 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105",children:"\uD83D\uDCE4 Share Profile"})]})]})}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",style:{fontFamily:'var(--font-bebas-neue), "Arial Black", "Impact", sans-serif'},children:"ARTWORKS"}),0===o.length?(0,s.jsx)("div",{className:"text-center text-white/60 text-xl py-12",children:"No artworks yet. This artist hasn't submitted any pieces."}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(e=>(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl overflow-hidden border border-white/20 hover:border-white/40 transition-all duration-300 transform hover:scale-105",children:[(0,s.jsxs)("div",{className:"relative aspect-square",children:[(0,s.jsx)(i.default,{src:e.image_url,alt:e.title,fill:!0,className:"object-cover"}),(0,s.jsxs)("div",{className:"absolute top-4 right-4 bg-black/50 backdrop-blur-sm rounded-full px-3 py-1 text-white text-sm font-semibold",children:["\uD83D\uDD25 ",e.votes]}),"pending"===e.status&&(0,s.jsx)("div",{className:"absolute top-4 left-4 bg-yellow-500/80 backdrop-blur-sm rounded-full px-3 py-1 text-black text-sm font-semibold",children:"⏳ Pending"})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-2",children:e.title}),(0,s.jsx)("p",{className:"text-white/70 text-sm mb-4 line-clamp-3",children:e.description}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>g(e.id),className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white py-2 px-4 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105",children:"\uD83D\uDD25 Vote"}),(0,s.jsx)("button",{onClick:()=>{let t="".concat(window.location.origin,"/gallery#").concat(e.id);navigator.clipboard.writeText(t),alert("Artwork link copied to clipboard!")},className:"flex-1 bg-white/10 hover:bg-white/20 text-white py-2 px-4 rounded-lg font-semibold transition-all duration-300",children:"\uD83D\uDCE4 Share"})]}),(0,s.jsx)(c.A,{artworkId:e.id,artistId:(null==t?void 0:t.username)||"artist",artistName:(null==t?void 0:t.full_name)||"Anonymous",artworkTitle:e.title,currentTips:0})]})]})]},e.id))})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(n(),{href:"/gallery",className:"bg-white/10 hover:bg-white/20 text-white py-3 px-6 rounded-lg font-semibold transition-all duration-300 border border-white/30",children:"← Back to Gallery"})})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center text-white",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Profile Not Found"}),(0,s.jsx)("p",{className:"text-xl mb-8",children:"The artist you're looking for doesn't exist."}),(0,s.jsx)(n(),{href:"/gallery",className:"bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-black font-bold py-3 px-6 rounded-lg transition-all duration-300",children:"Back to Gallery"})]})})}},9523:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var s=r(7559),l=r(5704);function a(){let e=l.env.NEXT_PUBLIC_SUPABASE_URL||"https://yrbbqxdimyqdfmezxmgp.supabase.co",t=l.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlyYmJxeGRpbXlxZGZtZXp4bWdwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1MjM5NjksImV4cCI6MjA3MjA5OTk2OX0.yR40mcHEsVoue4LDaT5GzKpbUk9VdwY7SeJ28JNBBKU";return(0,s.createBrowserClient)(e,t)}}},e=>{e.O(0,[7559,2619,5239,8441,1255,7358],()=>e(e.s=3220)),_N_E=e.O()}]);