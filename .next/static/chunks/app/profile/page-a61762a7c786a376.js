(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{1276:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var i=s(5155),r=s(2115),a=s(9523),l=s(2619),o=s.n(l);function n(e){let t,{userId:s,showHistoryLink:l=!0,className:n=""}=e,[c,d]=(0,r.useState)(0),[u,m]=(0,r.useState)(!0),[h,x]=(0,r.useState)(null),p=(0,a.U)();(0,r.useEffect)(()=>{b()},[s]);let b=async()=>{try{m(!0);let{data:e}=await p.from("profiles").select("current_jackpot_entries").eq("id",s).single();e&&d(e.current_jackpot_entries||0);let{data:t}=await p.from("jackpot_draws").select("*").eq("is_active",!0).gte("start_date",new Date().toISOString()).lte("end_date",new Date().toISOString()).single();t&&x(t)}catch(e){console.error("Error fetching jackpot data:",e)}finally{m(!1)}};return u?(0,i.jsx)("div",{className:"quantum-glass p-4 rounded-xl ".concat(n),children:(0,i.jsxs)("div",{className:"animate-pulse",children:[(0,i.jsx)("div",{className:"h-6 bg-gray-300 rounded mb-2"}),(0,i.jsx)("div",{className:"h-4 bg-gray-300 rounded"})]})}):(0,i.jsx)("div",{className:"quantum-glass p-6 rounded-xl border border-cyan-500/20 ".concat(n),children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"\uD83C\uDFB0 Creator Jackpot"}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("div",{className:"text-3xl font-bold text-cyan-400 mb-1",children:c}),(0,i.jsx)("div",{className:"text-sm text-gray-300",children:1===c?"Entry":"Entries"})]}),h&&(0,i.jsxs)("div",{className:"mb-4 p-3 bg-white/5 rounded-lg",children:[(0,i.jsx)("div",{className:"text-lg font-bold text-yellow-400 mb-1",children:(t=h.prize_amount,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t))}),(0,i.jsxs)("div",{className:"text-sm text-gray-300",children:[(e=>{let t=new Date(e),s=new Date;return Math.max(0,Math.ceil((t.getTime()-s.getTime())/864e5))})(h.end_date)," days remaining"]})]}),l&&(0,i.jsxs)(o(),{href:"/jackpot",className:"inline-flex items-center gap-2 text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:[(0,i.jsx)("span",{children:"View History"}),(0,i.jsx)("span",{children:"→"})]})]})})}},4612:(e,t,s)=>{Promise.resolve().then(s.bind(s,8875))},8875:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,dynamic:()=>u});var i=s(5155),r=s(2115),a=s(9523),l=s(9540),o=s(5239);function n(e){let{userId:t,onProfileUpdated:s,className:l=""}=e,[,o]=(0,r.useState)(null),[n,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(""),[x,p]=(0,r.useState)(null),[b,f]=(0,r.useState)({artist_bio:"",artist_website:"",artist_instagram:"",artist_twitter:"",artist_location:"",artist_specialties:[],artist_experience_years:0,is_artist:!1,portfolio_public:!0,accepts_commissions:!1,commission_rates:{portrait:0,landscape:0,digital_art:0,custom:0}}),g=(0,r.useCallback)(async()=>{if(x)try{let{data:e,error:s}=await x.from("profiles").select("*").eq("id",t).single();if(s)throw s;e&&(o(e),f({artist_bio:e.artist_bio||"",artist_website:e.artist_website||"",artist_instagram:e.artist_instagram||"",artist_twitter:e.artist_twitter||"",artist_location:e.artist_location||"",artist_specialties:e.artist_specialties||[],artist_experience_years:e.artist_experience_years||0,is_artist:e.is_artist||!1,portfolio_public:!1!==e.portfolio_public,accepts_commissions:e.accepts_commissions||!1,commission_rates:e.commission_rates||{portrait:0,landscape:0,digital_art:0,custom:0}}))}catch(e){console.error("Error fetching profile:",e),h("Failed to load profile")}finally{c(!1)}},[x,t]);(0,r.useEffect)(()=>{p((0,a.U)())},[]),(0,r.useEffect)(()=>{x&&g()},[x,g]);let w=async e=>{if(e.preventDefault(),u(!0),h(""),x)try{let{error:e}=await x.from("profiles").update({artist_bio:b.artist_bio||null,artist_website:b.artist_website||null,artist_instagram:b.artist_instagram||null,artist_twitter:b.artist_twitter||null,artist_location:b.artist_location||null,artist_specialties:b.artist_specialties.length>0?b.artist_specialties:null,artist_experience_years:b.artist_experience_years||0,is_artist:b.is_artist,portfolio_public:b.portfolio_public,accepts_commissions:b.accepts_commissions,commission_rates:b.accepts_commissions?b.commission_rates:null}).eq("id",t);if(e)throw e;null==s||s(),alert("Profile updated successfully!")}catch(e){console.error("Error updating profile:",e),h("Failed to update profile")}finally{u(!1)}};return n?(0,i.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 ".concat(l),children:(0,i.jsxs)("div",{className:"animate-pulse",children:[(0,i.jsx)("div",{className:"h-6 bg-white/20 rounded mb-4"}),(0,i.jsx)("div",{className:"h-32 bg-white/20 rounded mb-4"}),(0,i.jsx)("div",{className:"h-10 bg-white/20 rounded"})]})}):(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 ".concat(l),children:[(0,i.jsx)("h3",{className:"text-2xl font-bold text-white mb-6",children:"\uD83C\uDFA8 Artist Profile Setup"}),(0,i.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,i.jsx)("div",{className:"flex items-center space-x-4",children:(0,i.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,i.jsx)("input",{type:"checkbox",checked:b.is_artist,onChange:e=>f(t=>({...t,is_artist:e.target.checked})),className:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500"}),(0,i.jsx)("span",{className:"text-white font-medium",children:"I am an artist and want to showcase my work"})]})}),b.is_artist&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Artist Bio *"}),(0,i.jsx)("textarea",{value:b.artist_bio,onChange:e=>f(t=>({...t,artist_bio:e.target.value})),placeholder:"Tell us about yourself, your artistic journey, and what inspires your work...",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Years of Experience"}),(0,i.jsx)("input",{type:"number",value:b.artist_experience_years,onChange:e=>f(t=>({...t,artist_experience_years:parseInt(e.target.value)||0})),min:"0",max:"50",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Location"}),(0,i.jsx)("input",{type:"text",value:b.artist_location,onChange:e=>f(t=>({...t,artist_location:e.target.value})),placeholder:"City, Country",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-3",children:"Art Specialties"}),(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["Digital Art","Photography","Illustration","3D Art","Concept Art","Portrait Art","Landscape Art","Abstract Art","Fantasy Art","Sci-Fi Art","Character Design","Environment Design","UI/UX Design","Graphic Design","Traditional Art","Mixed Media","Animation","Motion Graphics"].map(e=>(0,i.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,i.jsx)("input",{type:"checkbox",checked:b.artist_specialties.includes(e),onChange:()=>{f(t=>({...t,artist_specialties:t.artist_specialties.includes(e)?t.artist_specialties.filter(t=>t!==e):[...t.artist_specialties,e]}))},className:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500"}),(0,i.jsx)("span",{className:"text-white/80 text-sm",children:e})]},e))})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Website"}),(0,i.jsx)("input",{type:"url",value:b.artist_website,onChange:e=>f(t=>({...t,artist_website:e.target.value})),placeholder:"https://yourwebsite.com",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Instagram"}),(0,i.jsx)("input",{type:"text",value:b.artist_instagram,onChange:e=>f(t=>({...t,artist_instagram:e.target.value})),placeholder:"@yourusername",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Twitter"}),(0,i.jsx)("input",{type:"text",value:b.artist_twitter,onChange:e=>f(t=>({...t,artist_twitter:e.target.value})),placeholder:"@yourusername",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Portfolio Settings"}),(0,i.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,i.jsx)("input",{type:"checkbox",checked:b.portfolio_public,onChange:e=>f(t=>({...t,portfolio_public:e.target.checked})),className:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500"}),(0,i.jsx)("span",{className:"text-white",children:"Make my portfolio public"})]}),(0,i.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,i.jsx)("input",{type:"checkbox",checked:b.accepts_commissions,onChange:e=>f(t=>({...t,accepts_commissions:e.target.checked})),className:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500"}),(0,i.jsx)("span",{className:"text-white",children:"I accept commissions"})]})]}),b.accepts_commissions&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Commission Rates (USD)"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Portrait"}),(0,i.jsx)("input",{type:"number",value:b.commission_rates.portrait,onChange:e=>f(t=>({...t,commission_rates:{...t.commission_rates,portrait:parseFloat(e.target.value)||0}})),min:"0",step:"0.01",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Landscape"}),(0,i.jsx)("input",{type:"number",value:b.commission_rates.landscape,onChange:e=>f(t=>({...t,commission_rates:{...t.commission_rates,landscape:parseFloat(e.target.value)||0}})),min:"0",step:"0.01",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Digital Art"}),(0,i.jsx)("input",{type:"number",value:b.commission_rates.digital_art,onChange:e=>f(t=>({...t,commission_rates:{...t.commission_rates,digital_art:parseFloat(e.target.value)||0}})),min:"0",step:"0.01",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Custom"}),(0,i.jsx)("input",{type:"number",value:b.commission_rates.custom,onChange:e=>f(t=>({...t,commission_rates:{...t.commission_rates,custom:parseFloat(e.target.value)||0}})),min:"0",step:"0.01",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),m&&(0,i.jsx)("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4",children:(0,i.jsx)("p",{className:"text-red-200",children:m})}),(0,i.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Saving...":"Save Profile"})]})]})}function c(e){let{userId:t,onPortfolioUpdated:s,className:l=""}=e,[n,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),[m,h]=(0,r.useState)(!1),[x,p]=(0,r.useState)(""),[b,f]=(0,r.useState)(null),[g,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)({title:"",description:"",category:"",tags:[],is_featured:!1,is_public:!0,image:null}),y=(0,r.useCallback)(async()=>{if(b)try{let{data:e,error:s}=await b.from("artist_portfolio").select("*").eq("artist_id",t).order("created_at",{ascending:!1});if(s)throw s;c(e||[])}catch(e){console.error("Error fetching portfolio:",e),p("Failed to load portfolio")}finally{u(!1)}},[b,t]);(0,r.useEffect)(()=>{f((0,a.U)())},[]),(0,r.useEffect)(()=>{b&&y()},[b,y]);let v=async e=>{if(!b)throw Error("Supabase client not initialized");let s=e.name.split(".").pop(),i="".concat(t,"/").concat(Date.now(),".").concat(s),r="portfolio/".concat(i),{error:a}=await b.storage.from("artwork").upload(r,e);if(a)throw a;let{data:l}=b.storage.from("artwork").getPublicUrl(r);return l.publicUrl},_=async e=>{if(e.preventDefault(),j.image&&b){h(!0),p("");try{let e=await v(j.image),{error:i}=await b.from("artist_portfolio").insert([{artist_id:t,title:j.title,description:j.description||null,image_url:e,category:j.category||null,tags:j.tags.length>0?j.tags:null,is_featured:j.is_featured,is_public:j.is_public}]);if(i)throw i;N({title:"",description:"",category:"",tags:[],is_featured:!1,is_public:!0,image:null}),w(!1),y(),null==s||s()}catch(e){console.error("Error adding portfolio item:",e),p("Failed to add portfolio item")}finally{h(!1)}}},k=async e=>{if(b&&confirm("Are you sure you want to delete this portfolio item?"))try{let{error:t}=await b.from("artist_portfolio").delete().eq("id",e);if(t)throw t;y(),null==s||s()}catch(e){console.error("Error deleting portfolio item:",e),p("Failed to delete portfolio item")}},C=async(e,t)=>{if(b)try{let{error:i}=await b.from("artist_portfolio").update({is_featured:!t}).eq("id",e);if(i)throw i;y(),null==s||s()}catch(e){console.error("Error updating portfolio item:",e),p("Failed to update portfolio item")}},D=async(e,t)=>{if(b)try{let{error:i}=await b.from("artist_portfolio").update({is_public:!t}).eq("id",e);if(i)throw i;y(),null==s||s()}catch(e){console.error("Error updating portfolio item:",e),p("Failed to update portfolio item")}};return d?(0,i.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 ".concat(l),children:(0,i.jsxs)("div",{className:"animate-pulse",children:[(0,i.jsx)("div",{className:"h-6 bg-white/20 rounded mb-4"}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(e=>(0,i.jsx)("div",{className:"h-48 bg-white/20 rounded"},e))})]})}):(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 ".concat(l),children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,i.jsx)("h3",{className:"text-2xl font-bold text-white",children:"\uD83D\uDDBC️ Portfolio Management"}),(0,i.jsx)("button",{onClick:()=>w(!g),className:"bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:from-green-600 hover:to-blue-700 transition-all duration-300",children:g?"Cancel":"+ Add Item"})]}),g&&(0,i.jsxs)("form",{onSubmit:_,className:"mb-8 p-6 bg-white/5 rounded-lg border border-white/10",children:[(0,i.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Add New Portfolio Item"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Title *"}),(0,i.jsx)("input",{type:"text",value:j.title,onChange:e=>N(t=>({...t,title:e.target.value})),required:!0,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Category"}),(0,i.jsxs)("select",{value:j.category,onChange:e=>N(t=>({...t,category:e.target.value})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,i.jsx)("option",{value:"",children:"Select Category"}),["Digital Art","Photography","Illustration","3D Art","Concept Art","Portrait Art","Landscape Art","Abstract Art","Fantasy Art","Sci-Fi Art","Character Design","Environment Design","UI/UX Design","Graphic Design","Traditional Art","Mixed Media","Animation","Motion Graphics"].map(e=>(0,i.jsx)("option",{value:e,children:e},e))]})]})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Description"}),(0,i.jsx)("textarea",{value:j.description,onChange:e=>N(t=>({...t,description:e.target.value})),rows:3,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Image *"}),(0,i.jsx)("input",{type:"file",accept:"image/*",onChange:e=>N(t=>{var s;return{...t,image:(null==(s=e.target.files)?void 0:s[0])||null}}),required:!0,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,i.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,i.jsx)("input",{type:"checkbox",checked:j.is_featured,onChange:e=>N(t=>({...t,is_featured:e.target.checked})),className:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500"}),(0,i.jsx)("span",{className:"text-white",children:"Featured"})]}),(0,i.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,i.jsx)("input",{type:"checkbox",checked:j.is_public,onChange:e=>N(t=>({...t,is_public:e.target.checked})),className:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500"}),(0,i.jsx)("span",{className:"text-white",children:"Public"})]})]}),(0,i.jsx)("button",{type:"submit",disabled:m||!j.image,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold py-2 px-6 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Uploading...":"Add to Portfolio"})]}),x&&(0,i.jsx)("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4 mb-6",children:(0,i.jsx)("p",{className:"text-red-200",children:x})}),0===n.length?(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFA8"}),(0,i.jsx)("h4",{className:"text-xl font-semibold text-white mb-2",children:"No portfolio items yet"}),(0,i.jsx)("p",{className:"text-white/60 mb-4",children:"Start building your portfolio by adding your best artwork!"}),(0,i.jsx)("button",{onClick:()=>w(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold py-2 px-6 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300",children:"Add Your First Piece"})]}):(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>(0,i.jsxs)("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/10",children:[(0,i.jsxs)("div",{className:"aspect-square bg-gradient-to-br from-gray-800 to-gray-900 relative",children:[(0,i.jsx)(o.default,{src:e.image_url,alt:e.title,width:300,height:300,className:"w-full h-full object-cover"}),(0,i.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-1",children:[e.is_featured&&(0,i.jsx)("span",{className:"bg-yellow-500 text-white text-xs px-2 py-1 rounded-full",children:"⭐ Featured"}),!e.is_public&&(0,i.jsx)("span",{className:"bg-gray-500 text-white text-xs px-2 py-1 rounded-full",children:"\uD83D\uDD12 Private"})]})]}),(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("h4",{className:"text-white font-semibold mb-1",children:e.title}),e.category&&(0,i.jsx)("p",{className:"text-blue-400 text-sm mb-2",children:e.category}),e.description&&(0,i.jsx)("p",{className:"text-white/70 text-sm mb-3 line-clamp-2",children:e.description}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-white/50 text-xs",children:new Date(e.created_at).toLocaleDateString()}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsx)("button",{onClick:()=>C(e.id,e.is_featured),className:"text-xs px-2 py-1 rounded ".concat(e.is_featured?"bg-yellow-500 text-white":"bg-white/10 text-white/70 hover:bg-white/20"),children:"⭐"}),(0,i.jsx)("button",{onClick:()=>D(e.id,e.is_public),className:"text-xs px-2 py-1 rounded ".concat(e.is_public?"bg-green-500 text-white":"bg-white/10 text-white/70 hover:bg-white/20"),children:e.is_public?"\uD83C\uDF10":"\uD83D\uDD12"}),(0,i.jsx)("button",{onClick:()=>k(e.id),className:"text-xs px-2 py-1 rounded bg-red-500/20 text-red-300 hover:bg-red-500/30",children:"\uD83D\uDDD1️"})]})]})]})]},e.id))})]})}var d=s(1276);let u="force-dynamic";function m(){let[e,t]=(0,r.useState)(null),[s,u]=(0,r.useState)(!0),[m,h]=(0,r.useState)("profile"),[x,p]=(0,r.useState)(null),[b,f]=(0,r.useState)(null),g=(0,r.useCallback)(async()=>{if(x&&b)try{let{data:e,error:s}=await x.from("profiles").select("*").eq("id",b).single();if(s)throw s;t(e)}catch(e){console.error("Error fetching profile:",e)}finally{u(!1)}},[x,b]);return((0,r.useEffect)(()=>{let e=(0,a.U)();p(e),e.auth.getUser().then(e=>{let{data:{user:t}}=e;t?f(t.id):window.location.href="/"})},[]),(0,r.useEffect)(()=>{x&&b&&g()},[x,b,g]),s)?(0,i.jsxs)("div",{className:"min-h-screen cyber-bg",children:[(0,i.jsx)(l.A,{}),(0,i.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,i.jsxs)("div",{className:"animate-pulse",children:[(0,i.jsx)("div",{className:"h-12 bg-white/20 rounded mb-8"}),(0,i.jsx)("div",{className:"h-64 bg-white/20 rounded"})]})})]}):e?(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900",children:[(0,i.jsx)(l.A,{}),(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsxs)("div",{className:"text-center mb-12",children:[(0,i.jsx)("h1",{className:"text-5xl font-bold text-white mb-4",children:"\uD83D\uDC64 My Profile"}),(0,i.jsx)("p",{className:"text-xl text-white/80 max-w-2xl mx-auto",children:"Manage your profile information and showcase your artistic journey."})]}),(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20 mb-8",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-6 mb-6",children:[e.avatar_url?(0,i.jsx)(o.default,{src:e.avatar_url,alt:e.full_name||e.username,width:96,height:96,className:"w-24 h-24 rounded-full object-cover border-4 border-white/20"}):(0,i.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center border-4 border-white/20",children:(0,i.jsx)("span",{className:"text-white text-3xl font-bold",children:(e.full_name||e.username).charAt(0).toUpperCase()})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-3xl font-bold text-white",children:e.full_name||e.username}),(0,i.jsxs)("p",{className:"text-white/70 text-lg",children:["@",e.username]}),e.is_artist&&(0,i.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,i.jsx)("span",{className:"bg-green-500/20 text-green-300 text-sm px-3 py-1 rounded-full",children:"\uD83C\uDFA8 Artist"}),e.accepts_commissions&&(0,i.jsx)("span",{className:"bg-blue-500/20 text-blue-300 text-sm px-3 py-1 rounded-full",children:"\uD83D\uDCBC Accepts Commissions"})]})]})]}),e.artist_bio&&(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Bio"}),(0,i.jsx)("p",{className:"text-white/80",children:e.artist_bio})]}),e.artist_specialties&&e.artist_specialties.length>0&&(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Specialties"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:e.artist_specialties.map(e=>(0,i.jsx)("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:e},e))})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.artist_location&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-white/60 text-sm",children:"Location"}),(0,i.jsx)("p",{className:"text-white",children:e.artist_location})]}),e.artist_experience_years&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-white/60 text-sm",children:"Experience"}),(0,i.jsxs)("p",{className:"text-white",children:[e.artist_experience_years," years"]})]}),e.artist_website&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-white/60 text-sm",children:"Website"}),(0,i.jsx)("a",{href:e.artist_website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Visit Website"})]})]})]}),b&&(0,i.jsx)("div",{className:"mb-8",children:(0,i.jsx)(d.default,{userId:b,showHistoryLink:!0})}),(0,i.jsx)("div",{className:"flex justify-center mb-8",children:(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-1 border border-white/20",children:[(0,i.jsx)("button",{onClick:()=>h("profile"),className:"px-6 py-3 rounded-md font-semibold transition-all duration-300 ".concat("profile"===m?"bg-white/20 text-white":"text-white/70 hover:text-white"),children:"Edit Profile"}),e.is_artist&&(0,i.jsx)("button",{onClick:()=>h("portfolio"),className:"px-6 py-3 rounded-md font-semibold transition-all duration-300 ".concat("portfolio"===m?"bg-white/20 text-white":"text-white/70 hover:text-white"),children:"Manage Portfolio"})]})}),"profile"===m?(0,i.jsx)(n,{userId:b,onProfileUpdated:g}):e.is_artist&&(0,i.jsx)(c,{userId:b,onPortfolioUpdated:g})]})]}):(0,i.jsxs)("div",{className:"min-h-screen cyber-bg",children:[(0,i.jsx)(l.A,{}),(0,i.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Profile Not Found"}),(0,i.jsx)("p",{className:"text-white/60",children:"Unable to load your profile."})]})})]})}},9497:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var i=s(2115),r=s(9523);function a(){let[e,t]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let e=(0,r.U)();(async()=>{var s;let{data:{session:i}}=await e.auth.getSession();t(null!=(s=null==i?void 0:i.user)?s:null),a(!1)})();let{data:{subscription:s}}=e.auth.onAuthStateChange((e,s)=>{var i;t(null!=(i=null==s?void 0:s.user)?i:null),a(!1)});return()=>s.unsubscribe()},[]),{user:e,loading:s}}},9523:(e,t,s)=>{"use strict";s.d(t,{U:()=>a});var i=s(7559),r=s(5704);function a(){let e=r.env.NEXT_PUBLIC_SUPABASE_URL||"https://yrbbqxdimyqdfmezxmgp.supabase.co",t=r.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlyYmJxeGRpbXlxZGZtZXp4bWdwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1MjM5NjksImV4cCI6MjA3MjA5OTk2OX0.yR40mcHEsVoue4LDaT5GzKpbUk9VdwY7SeJ28JNBBKU";return(0,i.createBrowserClient)(e,t)}},9540:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var i=s(5155),r=s(2115),a=s(2619),l=s.n(a),o=s(9497),n=s(9523);function c(){var e,t,s,a,c;let{user:d,loading:u}=(0,o.A)(),[m,h]=(0,r.useState)(!1),x=async()=>{let e=(0,n.U)();await e.auth.signOut(),window.location.href="/auth"};return(0,i.jsxs)("nav",{className:"cyber-card sticky top-0 z-50 cyber-glow",children:[(0,i.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,i.jsxs)(l(),{href:"/gallery",className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-pink-500 rounded-lg flex items-center justify-center cyber-glow",children:(0,i.jsx)("span",{className:"text-black font-bold text-lg",children:"C"})}),(0,i.jsx)("span",{className:"text-xl font-bold cyber-text",children:"CREATIVE CHALLENGE"})]}),(0,i.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,i.jsx)(l(),{href:"/gallery",className:"text-cyan-300 hover:text-cyan-100 transition-colors font-medium cyber-focus",children:"\uD83C\uDFE0 FEED"}),(0,i.jsx)(l(),{href:"/submit",className:"text-cyan-300 hover:text-cyan-100 transition-colors font-medium cyber-focus",children:"✨ SUBMIT"}),(0,i.jsx)(l(),{href:"/contests",className:"text-cyan-300 hover:text-cyan-100 transition-colors font-medium cyber-focus",children:"\uD83C\uDFC6 CONTESTS"}),(0,i.jsx)(l(),{href:"/leaderboard",className:"text-cyan-300 hover:text-cyan-100 transition-colors font-medium cyber-focus",children:"\uD83D\uDCCA LEADERBOARD"})]}),(0,i.jsx)("div",{className:"flex items-center space-x-4",children:u?(0,i.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-full animate-pulse"}):d?(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("button",{onClick:()=>h(!m),className:"flex items-center space-x-2 bg-white/10 hover:bg-white/20 rounded-lg px-3 py-2 transition-colors",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-white text-sm font-bold",children:(null==(s=d.user_metadata)||null==(t=s.full_name)||null==(e=t.charAt(0))?void 0:e.toUpperCase())||"U"})}),(0,i.jsx)("span",{className:"text-white text-sm font-medium hidden sm:block",children:(null==(a=d.user_metadata)?void 0:a.full_name)||"User"}),(0,i.jsx)("span",{className:"text-white",children:"▼"})]}),m&&(0,i.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-lg rounded-lg border border-white/20 py-2 z-50",children:[(0,i.jsx)(l(),{href:"/profile/".concat((null==(c=d.user_metadata)?void 0:c.username)||"user"),className:"block px-4 py-2 text-white hover:bg-white/10 transition-colors",children:"\uD83D\uDC64 My Profile"}),(0,i.jsx)(l(),{href:"/favorites",className:"block px-4 py-2 text-white hover:bg-white/10 transition-colors",children:"❤️ Favorites"}),(0,i.jsx)(l(),{href:"/settings",className:"block px-4 py-2 text-white hover:bg-white/10 transition-colors",children:"⚙️ Settings"}),(0,i.jsx)("div",{className:"border-t border-white/20 my-1"}),(0,i.jsx)("button",{onClick:x,className:"block w-full text-left px-4 py-2 text-red-300 hover:bg-red-500/20 transition-colors",children:"\uD83D\uDEAA Sign Out"})]})]}):(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)(l(),{href:"/auth",className:"text-white hover:text-purple-300 transition-colors font-medium",children:"Sign In"}),(0,i.jsx)(l(),{href:"/auth",className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg font-medium hover:from-purple-600 hover:to-pink-600 transition-all",children:"Join Now"})]})})]})}),(0,i.jsx)("div",{className:"md:hidden border-t border-white/20",children:(0,i.jsxs)("div",{className:"px-4 py-3 space-y-2",children:[(0,i.jsx)(l(),{href:"/gallery",className:"block text-white hover:text-purple-300 transition-colors font-medium py-2",children:"\uD83C\uDFE0 Feed"}),(0,i.jsx)(l(),{href:"/submit",className:"block text-white hover:text-purple-300 transition-colors font-medium py-2",children:"✨ Submit"}),(0,i.jsx)(l(),{href:"/contests",className:"block text-white hover:text-purple-300 transition-colors font-medium py-2",children:"\uD83C\uDFC6 Contests"}),(0,i.jsx)(l(),{href:"/leaderboard",className:"block text-white hover:text-purple-300 transition-colors font-medium py-2",children:"\uD83D\uDCCA Leaderboard"})]})})]})}}},e=>{e.O(0,[7559,2619,5239,8441,1255,7358],()=>e(e.s=4612)),_N_E=e.O()}]);