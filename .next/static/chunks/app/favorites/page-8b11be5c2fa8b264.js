(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4040],{7948:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,dynamic:()=>d});var i=s(5155),l=s(2115),r=s(9523),n=s(521),a=s(2619),o=s.n(a),c=s(5239);let d="force-dynamic";function m(){let[e,t]=(0,l.useState)([]),[s,a]=(0,l.useState)([]),[d,m]=(0,l.useState)(!0),[x,u]=(0,l.useState)("favorites"),[h,b]=(0,l.useState)(null),[p,f]=(0,l.useState)(null),g=(0,l.useCallback)(async()=>{if(h&&p)try{let{data:e,error:s}=await h.from("user_favorites").select("\n          id,\n          submission_id,\n          portfolio_item_id,\n          created_at,\n          submission:submissions!submission_id(\n            id,\n            title,\n            description,\n            image_url,\n            user_id,\n            contest_id,\n            profiles:user_id(\n              username,\n              full_name,\n              avatar_url\n            ),\n            contests:contest_id(\n              title\n            )\n          ),\n          portfolio_item:artist_portfolio!portfolio_item_id(\n            id,\n            title,\n            description,\n            image_url,\n            category,\n            artist_id,\n            profiles:artist_id(\n              username,\n              full_name,\n              avatar_url\n            )\n          )\n        ").eq("user_id",p).order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){console.error("Error fetching favorites:",e)}},[h,p]),v=(0,l.useCallback)(async()=>{if(h&&p)try{let{data:e,error:t}=await h.from("user_collections").select("\n          id,\n          name,\n          description,\n          is_public,\n          created_at,\n          collection_items(count)\n        ").eq("user_id",p).order("created_at",{ascending:!1});if(t)throw t;let s=(e||[]).map(e=>{var t,s;return{...e,item_count:(null==(s=e.collection_items)||null==(t=s[0])?void 0:t.count)||0}});a(s)}catch(e){console.error("Error fetching collections:",e)}},[h,p]);return((0,l.useEffect)(()=>{let e=(0,r.U)();b(e),e.auth.getUser().then(e=>{let{data:{user:t}}=e;t?f(t.id):window.location.href="/"})},[]),(0,l.useEffect)(()=>{h&&p&&(g(),v(),m(!1))},[h,p,g,v]),d)?(0,i.jsxs)("div",{className:"min-h-screen cyber-bg",children:[(0,i.jsx)(n.A,{}),(0,i.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,i.jsxs)("div",{className:"animate-pulse",children:[(0,i.jsx)("div",{className:"h-12 bg-white/20 rounded mb-8"}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,i.jsx)("div",{className:"h-64 bg-white/20 rounded"},e))})]})})]}):(0,i.jsxs)("div",{className:"min-h-screen cyber-bg",children:[(0,i.jsx)(n.A,{}),(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsxs)("div",{className:"text-center mb-12",children:[(0,i.jsx)("h1",{className:"text-5xl font-bold text-white mb-4",children:"❤️ My Favorites"}),(0,i.jsx)("p",{className:"text-xl text-white/80 max-w-2xl mx-auto",children:"Your personal collection of amazing artwork. Save pieces you love and organize them into collections."})]}),(0,i.jsx)("div",{className:"flex justify-center mb-8",children:(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-1 border border-white/20",children:[(0,i.jsxs)("button",{onClick:()=>u("favorites"),className:"px-6 py-3 rounded-md font-semibold transition-all duration-300 ".concat("favorites"===x?"bg-white/20 text-white":"text-white/70 hover:text-white"),children:["All Favorites (",e.length,")"]}),(0,i.jsxs)("button",{onClick:()=>u("collections"),className:"px-6 py-3 rounded-md font-semibold transition-all duration-300 ".concat("collections"===x?"bg-white/20 text-white":"text-white/70 hover:text-white"),children:["Collections (",s.length,")"]})]})}),"favorites"===x?(0,i.jsx)("div",{children:0===e.length?(0,i.jsxs)("div",{className:"text-center py-16",children:[(0,i.jsx)("div",{className:"text-8xl mb-6",children:"\uD83E\uDD0D"}),(0,i.jsx)("h3",{className:"text-2xl font-semibold text-white mb-4",children:"No Favorites Yet"}),(0,i.jsx)("p",{className:"text-white/60 mb-6",children:"Start exploring amazing artwork and save your favorites by clicking the heart icon!"}),(0,i.jsxs)("div",{className:"space-x-4",children:[(0,i.jsx)(o(),{href:"/",className:"inline-block bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold py-3 px-8 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300",children:"Explore Artwork"}),(0,i.jsx)(o(),{href:"/artists",className:"inline-block bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold py-3 px-8 rounded-lg hover:from-green-600 hover:to-blue-700 transition-all duration-300",children:"Discover Artists"})]})]}):(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{var t,s,l,r,n;let a=e.submission||e.portfolio_item,d=(null==(t=e.submission)?void 0:t.profiles)||(null==(s=e.portfolio_item)?void 0:s.profiles);return a&&d?(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl overflow-hidden border border-white/20 hover:border-white/40 transition-all duration-300 group",children:[(0,i.jsxs)("div",{className:"aspect-square bg-gradient-to-br from-gray-800 to-gray-900 relative overflow-hidden",children:[(0,i.jsx)(c.default,{src:a.image_url,alt:a.title,width:400,height:400,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),(0,i.jsx)("div",{className:"absolute top-2 right-2",children:(0,i.jsx)("span",{className:"bg-red-500/20 text-red-300 text-xs px-2 py-1 rounded-full",children:"❤️ Favorited"})}),e.submission&&(0,i.jsx)("div",{className:"absolute bottom-2 left-2",children:(0,i.jsx)("span",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-1 rounded-full",children:"Contest Entry"})})]}),(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("h3",{className:"text-white font-semibold mb-1 line-clamp-1",children:a.title}),(null==(l=e.submission)?void 0:l.contests)&&(0,i.jsx)("p",{className:"text-blue-400 text-sm mb-2",children:e.submission.contests.title}),(null==(r=e.portfolio_item)?void 0:r.category)&&(0,i.jsx)("p",{className:"text-blue-400 text-sm mb-2",children:e.portfolio_item.category}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[d.avatar_url?(0,i.jsx)(c.default,{src:d.avatar_url,alt:d.full_name||d.username,width:24,height:24,className:"w-6 h-6 rounded-full object-cover"}):(0,i.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-white text-xs font-bold",children:(d.full_name||d.username).charAt(0).toUpperCase()})}),(0,i.jsxs)("span",{className:"text-white/70 text-sm",children:["by ",d.full_name||d.username]})]}),a.description&&(0,i.jsx)("p",{className:"text-white/60 text-sm line-clamp-2",children:a.description}),(0,i.jsxs)("div",{className:"mt-3 flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-white/50 text-xs",children:new Date(e.created_at).toLocaleDateString()}),(0,i.jsx)("div",{className:"flex space-x-2",children:e.submission?(0,i.jsx)(o(),{href:"/contests/".concat(e.submission.contest_id),className:"text-blue-400 text-sm hover:text-blue-300 transition-colors",children:"View Contest →"}):(0,i.jsx)(o(),{href:"/artists/".concat(null==(n=e.portfolio_item)?void 0:n.artist_id),className:"text-blue-400 text-sm hover:text-blue-300 transition-colors",children:"View Artist →"})})]})]})]},e.id):null})})}):(0,i.jsx)("div",{children:0===s.length?(0,i.jsxs)("div",{className:"text-center py-16",children:[(0,i.jsx)("div",{className:"text-8xl mb-6",children:"\uD83D\uDCC1"}),(0,i.jsx)("h3",{className:"text-2xl font-semibold text-white mb-4",children:"No Collections Yet"}),(0,i.jsx)("p",{className:"text-white/60 mb-6",children:"Create collections to organize your favorite artwork into themed groups."}),(0,i.jsx)("button",{className:"bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold py-3 px-8 rounded-lg hover:from-green-600 hover:to-blue-700 transition-all duration-300",children:"Create Your First Collection"})]}):(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:border-white/40 transition-all duration-300",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-white",children:e.name}),e.is_public&&(0,i.jsx)("span",{className:"bg-green-500/20 text-green-300 text-xs px-2 py-1 rounded-full",children:"Public"})]}),e.description&&(0,i.jsx)("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:e.description}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("span",{className:"text-white/60 text-sm",children:[e.item_count," item",1!==e.item_count?"s":""]}),(0,i.jsx)("span",{className:"text-white/50 text-xs",children:new Date(e.created_at).toLocaleDateString()})]}),(0,i.jsx)("div",{className:"mt-4",children:(0,i.jsx)("button",{className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold py-2 px-4 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300",children:"View Collection"})})]},e.id))})})]})]})}},8044:(e,t,s)=>{Promise.resolve().then(s.bind(s,7948))}},e=>{e.O(0,[7559,2619,5239,521,8441,1255,7358],()=>e(e.s=8044)),_N_E=e.O()}]);