(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},364:(e,t,s)=>{Promise.resolve().then(s.bind(s,8993)),Promise.resolve().then(s.bind(s,1276))},1276:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(5155),r=s(2115),n=s(9523),i=s(2619),c=s.n(i);function l(e){let t,{userId:s,showHistoryLink:i=!0,className:l=""}=e,[d,o]=(0,r.useState)(0),[u,m]=(0,r.useState)(!0),[x,h]=(0,r.useState)(null),b=(0,n.U)();(0,r.useEffect)(()=>{p()},[s]);let p=async()=>{try{m(!0);let{data:e}=await b.from("profiles").select("current_jackpot_entries").eq("id",s).single();e&&o(e.current_jackpot_entries||0);let{data:t}=await b.from("jackpot_draws").select("*").eq("is_active",!0).gte("start_date",new Date().toISOString()).lte("end_date",new Date().toISOString()).single();t&&h(t)}catch(e){console.error("Error fetching jackpot data:",e)}finally{m(!1)}};return u?(0,a.jsx)("div",{className:"quantum-glass p-4 rounded-xl ".concat(l),children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded"})]})}):(0,a.jsx)("div",{className:"quantum-glass p-6 rounded-xl border border-cyan-500/20 ".concat(l),children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"\uD83C\uDFB0 Creator Jackpot"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-cyan-400 mb-1",children:d}),(0,a.jsx)("div",{className:"text-sm text-gray-300",children:1===d?"Entry":"Entries"})]}),x&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-white/5 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-yellow-400 mb-1",children:(t=x.prize_amount,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t))}),(0,a.jsxs)("div",{className:"text-sm text-gray-300",children:[(e=>{let t=new Date(e),s=new Date;return Math.max(0,Math.ceil((t.getTime()-s.getTime())/864e5))})(x.end_date)," days remaining"]})]}),i&&(0,a.jsxs)(c(),{href:"/jackpot",className:"inline-flex items-center gap-2 text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:[(0,a.jsx)("span",{children:"View History"}),(0,a.jsx)("span",{children:"â†’"})]})]})})}},8993:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(5155),r=s(9523),n=s(63);function i(){let e=(0,n.useRouter)(),t=(0,r.U)(),s=async()=>{await t.auth.signOut(),e.push("/"),e.refresh()};return(0,a.jsx)("button",{onClick:s,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Sign Out"})}},9523:(e,t,s)=>{"use strict";s.d(t,{U:()=>n});var a=s(7559),r=s(5704);function n(){let e=r.env.NEXT_PUBLIC_SUPABASE_URL||"https://yrbbqxdimyqdfmezxmgp.supabase.co",t=r.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlyYmJxeGRpbXlxZGZtZXp4bWdwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1MjM5NjksImV4cCI6MjA3MjA5OTk2OX0.yR40mcHEsVoue4LDaT5GzKpbUk9VdwY7SeJ28JNBBKU";return(0,a.createBrowserClient)(e,t)}}},e=>{e.O(0,[7559,2619,8441,1255,7358],()=>e(e.s=364)),_N_E=e.O()}]);