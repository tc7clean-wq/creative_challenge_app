(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{2768:(e,t,s)=>{Promise.resolve().then(s.bind(s,4820))},4820:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var i=s(5155),r=s(9523),l=s(2115),a=s(521);function n(){let[e,t]=(0,l.useState)({total_revenue:0,platform_cut:0,prize_pool_contribution:0,entry_fees:0,submission_pins:0,vote_multipliers:0,profile_boosts:0,transaction_count:0}),[s,n]=(0,l.useState)([]),[o,d]=(0,l.useState)(!0),[c,x]=(0,l.useState)(null),[m,u]=(0,l.useState)(null);return((0,l.useEffect)(()=>{u((0,r.U)())},[]),(0,l.useEffect)(()=>{m&&(async()=>{let{data:{user:e}}=await m.auth.getUser();if(x(e),e){let{data:e}=await m.from("contests").select("*").order("created_at",{ascending:!1}),{data:s}=await m.from("revenue_transactions").select("*");if(s){let e=s.reduce((e,t)=>e+Number(t.amount_paid),0),i=s.reduce((e,t)=>e+Number(t.platform_cut),0),r=s.reduce((e,t)=>e+Number(t.prize_pool_contribution),0),l=s.filter(e=>"entry_fee"===e.transaction_type).reduce((e,t)=>e+Number(t.amount_paid),0),a=s.filter(e=>"submission_pin"===e.transaction_type).reduce((e,t)=>e+Number(t.amount_paid),0);t({total_revenue:e,platform_cut:i,prize_pool_contribution:r,entry_fees:l,submission_pins:a,vote_multipliers:s.filter(e=>"vote_multiplier"===e.transaction_type).reduce((e,t)=>e+Number(t.amount_paid),0),profile_boosts:s.filter(e=>"profile_boost"===e.transaction_type).reduce((e,t)=>e+Number(t.amount_paid),0),transaction_count:s.length})}n(await Promise.all((e||[]).map(async e=>{let{data:t}=await m.from("revenue_transactions").select("*").eq("contest_id",e.id),{data:s}=await m.from("submission_pins").select("id").eq("status","active"),{data:i}=await m.from("vote_multipliers").select("id").eq("contest_id",e.id),{data:r}=await m.from("profile_boosts").select("id").eq("status","active"),l=(null==t?void 0:t.reduce((e,t)=>e+Number(t.amount_paid),0))||0,a=(null==t?void 0:t.reduce((e,t)=>e+Number(t.platform_cut),0))||0,n=(null==t?void 0:t.reduce((e,t)=>e+Number(t.prize_pool_contribution),0))||0;return{id:e.id,title:e.title,total_revenue:l,platform_cut:a,prize_pool:n,submission_count:e.submission_count||0,pin_count:(null==s?void 0:s.length)||0,multiplier_count:(null==i?void 0:i.length)||0,boost_count:(null==r?void 0:r.length)||0}})))}d(!1)})()},[m]),o)?(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-white"})}):c?(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[(0,i.jsx)(a.A,{}),(0,i.jsxs)("header",{className:"relative overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 via-blue-500/20 to-purple-500/20 animate-pulse"}),(0,i.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,i.jsx)("div",{className:"flex justify-between items-center",children:(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-white font-bold text-xl",children:"\uD83D\uDCCA"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Revenue Transparency"}),(0,i.jsx)("p",{className:"text-white/60 text-sm",children:"See exactly how your money is distributed fairly"})]})]})})})]}),(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,i.jsxs)("div",{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 rounded-2xl p-6 border border-green-500/30 mb-8",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:(0,i.jsx)("span",{className:"bg-gradient-to-r from-green-400 to-emerald-500 bg-clip-text text-transparent",children:"\uD83C\uDFAF Our Fairness Promise"})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCB0"}),(0,i.jsx)("div",{className:"text-white font-semibold mb-1",children:"60% to Prize Pool"}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"Entry fees go directly to winners"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-4xl mb-2",children:"\uD83C\uDFC6"}),(0,i.jsx)("div",{className:"text-white font-semibold mb-1",children:"80% to Prize Pool"}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"Pins, multipliers, and boosts"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-4xl mb-2",children:"⚖️"}),(0,i.jsx)("div",{className:"text-white font-semibold mb-1",children:"Transparent"}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"See every dollar tracked"})]})]})]}),(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 mb-8",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:(0,i.jsx)("span",{className:"bg-gradient-to-r from-green-400 to-emerald-500 bg-clip-text text-transparent",children:"\uD83D\uDCB0 Total Platform Revenue"})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[(0,i.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-green-400 mb-1",children:["$",e.total_revenue.toLocaleString()]}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"Total Revenue"})]}),(0,i.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:["$",e.platform_cut.toLocaleString()]}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"Platform Operations"}),(0,i.jsxs)("div",{className:"text-white/40 text-xs",children:[e.total_revenue>0?Math.round(e.platform_cut/e.total_revenue*100):0,"% of total"]})]}),(0,i.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-yellow-400 mb-1",children:["$",e.prize_pool_contribution.toLocaleString()]}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"Paid to Winners"}),(0,i.jsxs)("div",{className:"text-white/40 text-xs",children:[e.total_revenue>0?Math.round(e.prize_pool_contribution/e.total_revenue*100):0,"% of total"]})]}),(0,i.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-purple-400 mb-1",children:e.transaction_count}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"Total Transactions"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{className:"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 rounded-lg p-4 border border-blue-500/30",children:[(0,i.jsxs)("div",{className:"text-lg font-bold text-blue-400 mb-1",children:["$",e.entry_fees.toLocaleString()]}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"Entry Fees"}),(0,i.jsx)("div",{className:"text-white/40 text-xs",children:"60% to prize pool"})]}),(0,i.jsxs)("div",{className:"bg-gradient-to-r from-pink-500/20 to-purple-500/20 rounded-lg p-4 border border-pink-500/30",children:[(0,i.jsxs)("div",{className:"text-lg font-bold text-pink-400 mb-1",children:["$",e.submission_pins.toLocaleString()]}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"Submission Pins"}),(0,i.jsx)("div",{className:"text-white/40 text-xs",children:"80% to prize pool"})]}),(0,i.jsxs)("div",{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 rounded-lg p-4 border border-green-500/30",children:[(0,i.jsxs)("div",{className:"text-lg font-bold text-green-400 mb-1",children:["$",e.vote_multipliers.toLocaleString()]}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"Vote Multipliers"}),(0,i.jsx)("div",{className:"text-white/40 text-xs",children:"80% to prize pool"})]}),(0,i.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-lg p-4 border border-purple-500/30",children:[(0,i.jsxs)("div",{className:"text-lg font-bold text-purple-400 mb-1",children:["$",e.profile_boosts.toLocaleString()]}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"Profile Boosts"}),(0,i.jsx)("div",{className:"text-white/40 text-xs",children:"80% to prize pool"})]})]})]}),(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 mb-8",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:(0,i.jsx)("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent",children:"\uD83D\uDCCA Contest-by-Contest Breakdown"})}),(0,i.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,i.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-white font-semibold",children:e.title}),(0,i.jsxs)("p",{className:"text-white/60 text-sm",children:[e.submission_count," submissions • ",e.pin_count," pins • ",e.multiplier_count," multipliers • ",e.boost_count," boosts"]})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsxs)("div",{className:"text-xl font-bold text-green-400",children:["$",e.total_revenue.toLocaleString()]}),(0,i.jsx)("div",{className:"text-white/60 text-sm",children:"Total Revenue"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-blue-400 font-bold",children:["$",e.platform_cut.toLocaleString()]}),(0,i.jsx)("div",{className:"text-white/60",children:"Platform Cut"}),(0,i.jsxs)("div",{className:"text-white/40 text-xs",children:[e.total_revenue>0?Math.round(e.platform_cut/e.total_revenue*100):0,"%"]})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-yellow-400 font-bold",children:["$",e.prize_pool.toLocaleString()]}),(0,i.jsx)("div",{className:"text-white/60",children:"Prize Pool"}),(0,i.jsxs)("div",{className:"text-white/40 text-xs",children:[e.total_revenue>0?Math.round(e.prize_pool/e.total_revenue*100):0,"%"]})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-green-400 font-bold",children:[e.total_revenue>0?Math.round(e.prize_pool/e.total_revenue*100):0,"%"]}),(0,i.jsx)("div",{className:"text-white/60",children:"Winner Share"}),(0,i.jsx)("div",{className:"text-white/40 text-xs",children:"Fair distribution"})]})]})]},e.id))})]}),(0,i.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:(0,i.jsx)("span",{className:"bg-gradient-to-r from-purple-400 to-pink-500 bg-clip-text text-transparent",children:"\uD83D\uDCA1 Suggest a Contest"})}),(0,i.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-lg p-6 border border-purple-500/30",children:[(0,i.jsx)("p",{className:"text-white/80 mb-4",children:"Have an idea for a contest? We'd love to hear it! Submit your suggestion and we'll review it quickly. If approved, you can even become a moderator for that specific contest."}),(0,i.jsxs)("a",{href:"/admin/create-contest",className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-600 text-white font-bold py-3 px-6 rounded-lg hover:from-purple-600 hover:to-pink-700 transition-all duration-300",children:[(0,i.jsx)("span",{children:"\uD83C\uDFC6"}),"Suggest New Contest"]})]})]})]})]}):(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Please sign in to view revenue transparency"}),(0,i.jsx)("a",{href:"/auth",className:"text-blue-400 hover:text-blue-300",children:"Sign In"})]})})}}},e=>{e.O(0,[7559,2619,5239,521,8441,1255,7358],()=>e(e.s=2768)),_N_E=e.O()}]);